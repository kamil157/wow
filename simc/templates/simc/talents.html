{% extends "simc/base.html" %}
{% block content %}
<h4>
    Choose talents to compare
</h4>
<form action="" method="post">
    {% csrf_token %}
    <table class="table">
        <tbody>
            {% for field in form %}
                {{ field }}
            {% endfor %}
        </tbody>
    </table>
    <input class="btn btn-primary" type="submit" value="Submit">
</form>

<div>
    {% if output %}
    <hr>
    <h4>
        SimCraft Input
    </h4>
    <div class="form-group">
        <textarea class="form-control" rows="6" readonly id="output" style="width: 100%; resize:none;">{{ output }}</textarea>
    </div>
    {% comment %}TODO improve user feedback for copying{% endcomment %}
    <button id="btn-clipboard" class="btn btn-default" data-clipboard-target="#output">Copy to clipboard</button>
    {% endif %}
</div>
{% endblock %}

{% block js %}
<script type="text/javascript" src="//static-azeroth.cursecdn.com/current/js/syndication/tt.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"></script>
<script>
new Clipboard('#btn-clipboard');

$('input').change(function() {
    if (this.checked)
    {
        $(this.parentElement).addClass('checked');
    }
    else
    {
        $(this.parentElement).removeClass('checked');
    }
});
</script>
{% endblock %}